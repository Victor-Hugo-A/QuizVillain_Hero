<div class="wrap" [attr.data-accent]="headerAccent">
  <div class="progress">
    <div class="bar" [style.width.%]="progress()"></div>
    <div class="meta">
    <span class="meta__left">
      @if (!finished()) {
        Pergunta {{ state().currentIndex + 1 }} de {{ state().total }}
      } @else {
        Conclu√≠do
      }
    </span>

      <span class="meta__right">
        <!-- ‚è± timer -->
      <span class="timer">
        <svg class="timer__icon" viewBox="0 0 24 24" aria-hidden="true">
          <circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" opacity=".25" />
          <path d="M12 7v5l4 2" fill="none" stroke="currentColor" stroke-linecap="round" />
        </svg>
        <span class="timer__text">{{ state().timeLeft }}s</span>
      </span>

        <!-- üî• streak (mostra s√≥ se > 0) -->
        @if (streak() > 0) {
          <span class="streak" [class.flash]="streakFlash()">
          <svg class="streak__icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 2c2 3 4 4 4 7a4 4 0 1 1-8 0c0-2 1-3 2-5-5 3-6 7-6 9a8 8 0 0 0 16 0c0-4-3-7-8-11z" fill="currentColor"/>
          </svg>
          <strong>x{{ streak() }}</strong>
        </span>
        }

      <span class="score">Score: {{ score() }}</span>
    </span>
    </div>
  </div>


  @if (!finished()) {
    @if (current()) {
      <div class="anim-in">
        <app-question [question]="current()!" (pick)="onPick($event)"/>
      </div>
    } @else {
      <div class="card anim-in">Carregando‚Ä¶</div>
    }
  } @else {
    <div class="anim-in card">
      <p>Conclu√≠do. Abrindo tela de resultados‚Ä¶</p>
      <a routerLink="/result" class="badge">Ir agora</a>
    </div>
  }
</div>
