<div class="wrap" [attr.data-accent]="headerAccent">
  <div class="progress">
    <div class="bar" [style.width.%]="progress()"></div>
    <div class="meta">
      @if (!finished()) {
        <span>Pergunta {{ state().currentIndex + 1 }} de {{ state().total }}</span>
      } @else {
        <span>Concluído</span>
      }
      <span class="score">Score: {{ score() }}</span>
    </div>
  </div>

  @if (!finished()) {
    @if (current()) {
      <div class="anim-in">
        <app-question
          [question]="current()!"
          (pick)="onPick($event)" />
      </div>
    } @else {
      <div class="card anim-in">Carregando…</div>
    }
  } @else {
    <div class="anim-in card">
      <p>Concluído. Abrindo tela de resultados…</p>
      <a routerLink="/result" class="badge">Ir agora</a>
    </div>
  }
</div>
